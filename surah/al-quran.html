<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Al-Qur'an Digital</title>
 
 <style>
  @import url('https://fonts.googleapis.com/css2?family=Amiri&family=Roboto&display=swap');

 body {
	  font-family: 'Roboto', sans-serif;
	  font-size: 0.8rem;  /* tambahkan baris ini */
	  background: #f9f9f6;
	  color: #222;
	  padding: 2rem;
	  max-width: 900px;
	  margin: auto;
	}


  h1 {
		text-align: center;
		color: #2b7a3d;
		margin-bottom: 1rem;
	  }

	  select, input {
		width: 100%;
		padding: 12px;
		margin-bottom: 1rem;
		font-size: 1rem;
		border: 1px solid #ccc;
		border-radius: 8px;
		box-shadow: 0 1px 2px rgba(0,0,0,0.05);
	  }

	  .ayat {
		background: #ffffff;
		border-left: 6px solid #2b7a3d;
		border-radius: 10px;
		padding: 1rem;
		margin-bottom: 1.5rem;
		box-shadow: 0 2px 4px rgba(0,0,0,0.07);
	  }

	  .arab {
		font-family: 'Amiri', serif;
		font-size: 1.8rem;
		text-align: right;
		direction: rtl;
		color: #1e2f23;
		margin-bottom: 0.5rem;
	  }

	  .arti {
		margin-bottom: 0.5rem;
		line-height: 1.6;
	  }

	  .tafsir {
		font-size: 0.8rem;
		line-height: 1.6;
		background: #f0df4;
		padding: 0.8rem;
		border-radius: 8px;
		margin-top: 0.5rem;
		border: 1px dashed #a2d5a2;
	  }

	  .nomor {
		font-size: 0.85rem;
		color: #666;
		margin-top: 0.5rem;
		text-align: right;
	  }

	  button {
		margin-top: 0.5rem;
		padding: 6px 12px;
		font-size: 0.9rem;
		cursor: pointer;
		background-color: #e1f5e5;
		border: 1px solid #a8d5ba;
		color: #2b7a3d;
		border-radius: 5px;
		transition: 0.3s ease;
	  }

	  button:hover {
		background-color: #c7ecd2;
	  }

	  @media (max-width: 600px) {
		body { padding: 1rem; }
		.arab { font-size: 1.4rem; }
	  }
</style>

  
</head>
<body>
  <h1>üìñ Al-Qur'an Teta Dakwa</h1>

  <select id="surahSelect">
   <option value="1">1. Al-Fatihah</option>
	<option value="2">2. Al-Baqarah</option>
	<option value="3">3. Ali Imran</option>
	<option value="4">4. An-Nisa</option>
	<option value="5">5. Al-Ma'idah</option>
	<option value="6">6. Al-An'am</option>
	<option value="7">7. Al-A'raf</option>
	<option value="8">8. Al-Anfal</option>
	<option value="9">9. At-Taubah</option>
	<option value="10">10. Yunus</option>
	<option value="11">11. Hud</option>
	<option value="12">12. Yusuf</option>
	<option value="13">13. Ar-Ra'd</option>
	<option value="14">14. Ibrahim</option>
	<option value="15">15. Al-Hijr</option>
	<option value="16">16. An-Nahl</option>
	<option value="17">17. Al-Isra</option>
	<option value="18">18. Al-Kahf</option>
	<option value="19">19. Maryam</option>
	<option value="20">20. Ta-Ha</option>
	<option value="21">21. Al-Anbiya</option>
	<option value="22">22. Al-Hajj</option>
	<option value="23">23. Al-Mu'minun</option>
	<option value="24">24. An-Nur</option>
	<option value="25">25. Al-Furqan</option>
	<option value="26">26. Ash-Shu'ara</option>
	<option value="27">27. An-Naml</option>
	<option value="28">28. Al-Qasas</option>
	<option value="29">29. Al-Ankabut</option>
	<option value="30">30. Ar-Rum</option>
	<option value="31">31. Luqman</option>
	<option value="32">32. As-Sajdah</option>
	<option value="33">33. Al-Ahzab</option>
	<option value="34">34. Saba</option>
	<option value="35">35. Fatir</option>
	<option value="36">36. Ya-Sin</option>
	<option value="37">37. As-Saffat</option>
	<option value="38">38. Sad</option>
	<option value="39">39. Az-Zumar</option>
	<option value="40">40. Ghafir</option>
	<option value="41">41. Fussilat</option>
	<option value="42">42. Ash-Shura</option>
	<option value="43">43. Az-Zukhruf</option>
	<option value="44">44. Ad-Dukhan</option>
	<option value="45">45. Al-Jathiyah</option>
	<option value="46">46. Al-Ahqaf</option>
	<option value="47">47. Muhammad</option>
	<option value="48">48. Al-Fath</option>
	<option value="49">49. Al-Hujurat</option>
	<option value="50">50. Qaf</option>
	<option value="51">51. Adh-Dhariyat</option>
	<option value="52">52. At-Tur</option>
	<option value="53">53. An-Najm</option>
	<option value="54">54. Al-Qamar</option>
	<option value="55">55. Ar-Rahman</option>
	<option value="56">56. Al-Waqi'ah</option>
	<option value="57">57. Al-Hadid</option>
	<option value="58">58. Al-Mujadilah</option>
	<option value="59">59. Al-Hashr</option>
	<option value="60">60. Al-Mumtahanah</option>
	<option value="61">61. As-Saff</option>
	<option value="62">62. Al-Jumu'ah</option>
	<option value="63">63. Al-Munafiqun</option>
	<option value="64">64. At-Taghabun</option>
	<option value="65">65. At-Talaq</option>
	<option value="66">66. At-Tahrim</option>
	<option value="67">67. Al-Mulk</option>
	<option value="68">68. Al-Qalam</option>
	<option value="69">69. Al-Haqqah</option>
	<option value="70">70. Al-Ma'arij</option>
	<option value="71">71. Nuh</option>
	<option value="72">72. Al-Jinn</option>
	<option value="73">73. Al-Muzzammil</option>
	<option value="74">74. Al-Muddaththir</option>
	<option value="75">75. Al-Qiyamah</option>
	<option value="76">76. Al-Insan</option>
	<option value="77">77. Al-Mursalat</option>
	<option value="78">78. An-Naba</option>
	<option value="79">79. An-Nazi'at</option>
	<option value="80">80. Abasa</option>
	<option value="81">81. At-Takwir</option>
	<option value="82">82. Al-Infitar</option>
	<option value="83">83. Al-Mutaffifin</option>
	<option value="84">84. Al-Inshiqaq</option>
	<option value="85">85. Al-Buruj</option>
	<option value="86">86. At-Tariq</option>
	<option value="87">87. Al-A'la</option>
	<option value="88">88. Al-Ghashiyah</option>
	<option value="89">89. Al-Fajr</option>
	<option value="90">90. Al-Balad</option>
	<option value="91">91. Ash-Shams</option>
	<option value="92">92. Al-Lail</option>
	<option value="93">93. Adh-Dhuha</option>
	<option value="94">94. Ash-Sharh</option>
	<option value="95">95. At-Tin</option>
	<option value="96">96. Al-'Alaq</option>
	<option value="97">97. Al-Qadr</option>
	<option value="98">98. Al-Bayyinah</option>
	<option value="99">99. Az-Zalzalah</option>
	<option value="100">100. Al-‚ÄòAdiyat</option>
	<option value="101">101. Al-Qari‚Äòah</option>
	<option value="102">102. At-Takathur</option>
	<option value="103">103. Al-‚ÄòAsr</option>
	<option value="104">104. Al-Humazah</option>
	<option value="105">105. Al-Fil</option>
	<option value="106">106. Quraysh</option>
	<option value="107">107. Al-Ma‚Äôun</option>
	<option value="108">108. Al-Kawthar</option>
	<option value="109">109. Al-Kafirun</option>
	<option value="110">110. An-Nasr</option>
	<option value="111">111. Al-Masad</option>
	<option value="112">112. Al-Ikhlas</option>
	<option value="113">113. Al-Falaq</option>
	<option value="114">114. An-Nas</option>  
  </select>

  <input type="text" id="search" placeholder="Cari kata di terjemahan (misal: sabar, nikmat)" />
  <div id="hasil">Silakan pilih surah.</div>
	

  <script>
    let ayatList = [];

    const surahSelect = document.getElementById("surahSelect");
    const hasil = document.getElementById("hasil");

    function loadSurah(nomorSurah) {
      hasil.innerHTML = "üîÑ Memuat...";
      fetch(`${nomorSurah}.json`)
        .then(res => res.json())
        .then(json => {
          const surah = json[nomorSurah];
          const arab = surah.text;
          const arti = surah.translations.id.text;
          const tafsir = surah.tafsir?.id?.kemenag?.text || {};

          ayatList = Object.keys(arab).map(nomor => ({
            nomor: nomor,
            arab: arab[nomor],
            arti: arti[nomor],
            tafsir: tafsir[nomor] || "(Tafsir tidak tersedia)"
          }));

          tampilkanAyat(ayatList);
        })
        .catch(err => {
          hasil.innerHTML = "<p>‚ùå Gagal memuat surah. Pastikan file tersedia.</p>";
        });
    }

  function tampilkanAyat(daftar) {
  const hasil = document.getElementById("hasil");
  if (daftar.length === 0) {
    hasil.innerHTML = "<p>‚ùå Tidak ada ayat yang cocok.</p>";
    return;
  }

  // Ambil nomor surah dari dropdown
  const surahNum = String(surahSelect.value);
  const audioURL = `https://cdn.islamic.network/quran/audio-surah/128/ar.alafasy/${surahNum}.mp3`;

  // Audio player satu untuk satu surah
  let audioPlayer = `
    <div style="margin-bottom: 1rem;">
      <audio controls style="width:100%">
        <source src="${audioURL}" type="audio/mpeg">
        Audio tidak tersedia.
      </audio>
    </div>
  `;

  // Semua ayat ditampilkan
  const ayatHTML = daftar.map((a, i) => `
    <div class="ayat">
      <div class="arab">${a.arab}</div>
      <div class="arti"><strong>Artinya:</strong> ${a.arti}</div>

      <button onclick="toggleTafsir(${i})" id="btn-${i}">‚ûï Lihat Tafsir</button>
      <div class="tafsir" id="tafsir-${i}" style="display:none;">
        <strong>Tafsir:</strong> ${a.tafsir}
      </div>
      <div class="nomor">Ayat ${a.nomor}</div>
    </div>
  `).join("");

  hasil.innerHTML = audioPlayer + ayatHTML;
}



function toggleTafsir(i) {
  const tafsirDiv = document.getElementById(`tafsir-${i}`);
  const btn = document.getElementById(`btn-${i}`);

  if (tafsirDiv.style.display === "none") {
    tafsirDiv.style.display = "block";
    btn.innerText = "‚ûñ Sembunyikan Tafsir";
  } else {
    tafsirDiv.style.display = "none";
    btn.innerText = "‚ûï Lihat Tafsir";
  }
}



    document.getElementById("search").addEventListener("input", e => {
      const keyword = e.target.value.trim().toLowerCase();
      if (!keyword || keyword.length < 2) {
        tampilkanAyat(ayatList);
        return;
      }

      const hasilFilter = ayatList.filter(a =>
        a.arti.toLowerCase().includes(keyword)
      );
      tampilkanAyat(hasilFilter);
    });

    surahSelect.addEventListener("change", e => {
      const nomor = e.target.value;
      if (nomor) loadSurah(nomor);
    });

    // Muat default surah (Al-Fatihah)
    loadSurah(1);
  </script>
</body>
</html>
